/**
 * Feedback form handler
 */
$(function(){"use strict";function a(){b(),c()}function b(){$.validator.addClassRules("js-check-name",{required:!0,minlength:2}),$.validator.addClassRules("js-check-email",{required:!0,email:!0}),$.validator.addClassRules("js-check-message",{required:!0,minlength:5})}function c(){d()}function d(){e.validate({errorElement:"span",errorClass:"has-error",validClass:"has-success",errorPlacement:function(a,b){a.addClass("help-block"),b.after(a)},submitHandler:function(a){var b=$(a);return b.find(".success-message, .error-message").remove(),$.ajax({type:b.attr("method")||"post",url:b.attr("action"),data:b.serialize(),dataType:"json",success:function(a){var c="";a&&a.success===!0?(b.addClass("subscribe-success"),c='<span class="help-block success-message">Thanks for your message!</span>',b.find("input").val("")):c='<span class="help-block error-message">'+(a.message||"Contact action error!")+"</span>",b.prepend(c)}}),!1}})}var e=$(".js-feedback-form");a()});